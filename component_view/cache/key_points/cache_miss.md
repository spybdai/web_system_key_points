### 缓存失效引发后方服务压力

缓存因为某些原因(key不存在，key过期，缓存服务崩溃)失效，导致请求到达后方服务（一般是数据库），造成后发服务压力过大，甚至崩溃。

- 缓存击穿

  问题描述：某些（**1个或多个）热点**数据过期，导致大量请求到达后方服务。

  解决方案：(todo:)

- 缓存雪崩

  问题描述： 多个key**同时过期**，导致请求到达后方服务。

  解决方案：

  - 设置分散的过期时间，比如增加一定范围内的随机过期时间。

- 缓存穿透

  问题描述：请求**一定不存在**的key, 导致请求到达后方服务，缓存事实上被绕过。

  解决方案：

  - 缓存空结果，设置短过期时间。
  - bloom filter.

- 缓存服务崩溃引发的雪崩效应

  问题描述： 缓存服务崩溃，导致请求到达后方服务

  解决方案：

  - 忽略。评估后台服务吞吐量足以支撑请求量。
  - 高可用。使用缓存高可用集群，某个实例崩溃之后，自动故障转移。延伸问题：评估业务场景是否真的需要缓存高可	用。(todo: example of cache cluster HA)
  - 分片。数据分片存储，某个实例崩溃之后，只有该实例的请求会到达后方服务。 memcache分片，就是这个做法。(todo: analyse sharding of memcache)